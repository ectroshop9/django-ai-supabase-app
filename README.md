๐ฆ ูุชุฌุฑ ุงููููุงุช ุงูุชูููุฉ - ูุธุงู ูุชูุงูู ููุจูุน ูุงูุชุญููู ุงูุขูู
๐ฏ ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ูุชุฌุฑ ุฅููุชุฑููู ูุชูุงูู ูุจูุน ุงููููุงุช ุงูุชูููุฉ (PDFsุ ุฃููุงุฏ ุจุฑูุฌูุฉุ ุดุฑูุญุงุชุ ูููุงุช ุชุตููู) ูุน ูุธุงู ุญูุงูุฉ ูุชูุฏู ููุฑูุงุจุท ูููุน ุงููุดุงุฑูุฉ ุบูุฑ ุงููุตุฑุญ ุจูุง ููุณุฌู ูู ุนูููุฉ ุชุญููู. ุงููุธุงู ูุณุชุฎุฏู ุนููุงุช ุฏุงุฎููุฉ (ููููุฒ) ููุธุงู ุชุญููู ุฐูู.

โจ ุงูููุฒุงุช ุงููุฑูุฏุฉ
๐ ูุธุงู ุงูุญุณุงุจุงุช ุงูุขูู
ุชุณุฌูู ุฏุฎูู ูุฑูุฏ: ุจุงุณุชุฎุฏุงู ุฑูู ุณูุฑูุงู ูุจูู ููุฏ (4 ุฃุฑูุงู)

ุชูุนูู ุนูู ูุฑุญูุชูู: ุญุณุงุจ ูุคูุช โ ุฅุฏุฎุงู ุงูุจูุงูุงุช โ ุญุณุงุจ ุฏุงุฆู

ุงุณุชุฑุฏุงุฏ ุงูุญุณุงุจ: ุนุจุฑ ุฑูู ุงููุงุชู ูุงูุจูู ููุฏ

ูุตุงุฏูุฉ JWT: ุชูููุงุช ุขููุฉ ููุชููุฉ ุงูุตูุงุญูุฉ

๐ฐ ูุธุงู ุงูุนููุงุช ุงูุฏุงุฎููุฉ
ูุญูุธุฉ ุฅููุชุฑูููุฉ: ููู ุนููู ูุญูุธุฉ ุฎุงุตุฉ

ุดุญู ุจุฃููุงุฏ: ุฃููุงุฏ ุดุญู ุจููู ูุฎุชููุฉ (100ุ 500ุ 1000 ูููู)

ุดุญู ูุจุงุดุฑ: ูููุณุคูููู ูุฅุถุงูุฉ ุฑุตูุฏ ููุนููุงุก

ุณุฌู ูุนุงููุงุช: ุชุชุจุน ูุงูู ููุนูููุงุช ุงููุงููุฉ

๐ ูุธุงู ุงูุดุฑุงุก ุงูุฐูู
ุดุฑุงุก ุงููููุงุช: ุจุนููุงุช ุฏุงุฎููุฉ (ููููุฒ)

ููุน ุงูุชูุฑุงุฑ: ูุง ูููู ุดุฑุงุก ููุณ ุงูููู ูุฑุชูู

ุงูุชุญูู ูู ุงูุฑุตูุฏ: ุชููุงุฆูุงู ูุจู ูู ุนูููุฉ ุดุฑุงุก

ุฅุดุนุงุฑุงุช ููุฑูุฉ: ุจุนุฏ ูู ุนูููุฉ ุดุฑุงุก

๐ก๏ธ ูุธุงู ุงูุชุญููู ุงููุญูู (ุงูููุฒุฉ ุงูุฃุณุงุณูุฉ)
text
๐ ุงูุชุฏูู ุงูุฐูู:
1. ุดุฑุงุก ุงูููู โ ูุฐูุจ ุฅูู "ูุดุชุฑูุงุชู"
2. ุนูุฏ ุงูุฑุบุจุฉ ุจุงูุชุญููู โ ูุถุบุท "ุชุญููู"
3. ููุดุฆ ุฑุงุจุทุงู ูุญููุงู โ ูุนูู ูุฑุฉ ูุงุญุฏุฉ ููุท
4. ุตูุงุญูุฉ ุงูุฑุงุจุท โ ุณุงุนุชุงู ูู ููุช ุงูุถุบุท
5. ุนุฏุฏ ุงููุญุงููุงุช โ 3 ูุฑุงุช ููู ุนูููุฉ ุดุฑุงุก

โ ุงููุฒุงูุง:
- ุงูุชุญูู ุจุงูููุช: ุฃูุช ุชุญุฏุฏ ูุชู ุชุจุฏุฃ ุงูุตูุงุญูุฉ
- ุญูุงูุฉ ูุงููุฉ: ููุน ูุดุงุฑูุฉ ุงูุฑูุงุจุท
- ุชุชุจุน ุฏููู: ุชุณุฌูู ูู ุนูููุฉ ุชุญููู
- ูุฑููุฉ ุนุงููุฉ: 3 ูุญุงููุงุช ููู ููู
๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช
ุฅุดุนุงุฑุงุช ูุญุธูุฉ ููู ุนูููุฉ

ุนุฑุถ ุชุงุฑูุฎ ุงูุฅุดุนุงุฑุงุช

ุชุญุฏูุฏ ุงูุฅุดุนุงุฑุงุช ูููุฑูุกุฉ

๐๏ธ ุจููุฉ ุงููุดุฑูุน
text
django-ai-supabase-app/
โโโ accounts/                    # ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช ูุงููุญูุธุฉ
โ   โโโ models.py              # Customer, Wallet, Transaction
โ   โโโ serializers.py         # ุงูุชุณุฌููุ ุงูุฏุฎููุ ุงูุดุญู
โ   โโโ views.py              # ูุงุฌูุงุช API ููุญุณุงุจุงุช
โ   โโโ urls.py               # ูุณุงุฑุงุช ุงูุญุณุงุจุงุช
โ
โโโ sales/                     # ุนูููุงุช ุงูุจูุน ูุงูุชุญููู
โ   โโโ models.py             # Purchase, ChargeCode, SubscriptionPackage
โ   โโโ serializers.py        # ุงูุดุฑุงุกุ ุงูุชุญูููุ ุงููุดุชุฑูุงุช
โ   โโโ views.py             # ูุงุฌูุงุช ุงูุจูุน ูุงูุชุญููู
โ   โโโ urls.py              # ูุณุงุฑุงุช ุงููุจูุนุงุช
โ   โโโ utils/
โ       โโโ worker_client.py  # ุงูุงุชุตุงู ุจู Cloudflare Worker
โ
โโโ products/                  # ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
โ   โโโ models.py             # TechnicalFile, Category
โ   โโโ serializers.py        # ุนุฑุถ ุงูููุชุฌุงุช
โ   โโโ views.py             # ูุงุฌูุงุช ุงูููุชุฌุงุช
โ   โโโ urls.py              # ูุณุงุฑุงุช ุงูููุชุฌุงุช
โ
โโโ notifications/            # ูุธุงู ุงูุฅุดุนุงุฑุงุช
โ   โโโ models.py             # Notification
โ   โโโ serializers.py        # ุนุฑุถ ูุชุญุฏูุซ ุงูุฅุดุนุงุฑุงุช
โ   โโโ views.py             # ูุงุฌูุงุช ุงูุฅุดุนุงุฑุงุช
โ   โโโ utils.py             # ุฏุงูุฉ ุฅูุดุงุก ุงูุฅุดุนุงุฑุงุช
โ
โโโ config/                   # ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน
โ   โโโ settings.py          # ุฅุนุฏุงุฏุงุช Django ูุงูุฎุฏูุงุช
โ   โโโ urls.py             # ุงููุณุงุฑุงุช ุงูุฑุฆูุณูุฉ
โ
โโโ cloudflare_worker/       # ูุธุงู ุญูุงูุฉ ุงูุฑูุงุจุท (ูููุตู)
    โโโ worker.js           # Cloudflare Worker
    โโโ wrangler.toml      # ุฅุนุฏุงุฏุงุช ุงูู Worker
๐ ุชุฏูู ุงูุนูู ุงููุงูู
1๏ธโฃ ุฅูุดุงุก ูุชูุนูู ุงูุญุณุงุจ
bash
# 1. ุฅูุดุงุก ุญุณุงุจ ูุคูุช (ูุญุตู ุนูู Serial + PIN ุชููุงุฆูุงู)
POST /api/v1/token/
Response: {"serial": "CUST2024-ABC123", "pin": "1234", "access_token": "..."}

# 2. ุชูุนูู ุงูุญุณุงุจ (ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ)
POST /api/v1/activate-final/
Body: {"name": "ุฃุญูุฏ", "phone": "0555123456"}
Response: {"success": true, "balance": 100} # +100 ูููู ูุฌุงููุฉ
2๏ธโฃ ุดุญู ุงููุญูุธุฉ
bash
# ุทุฑููุฉ 1: ุจุฃููุงุฏ ุงูุดุญู
POST /api/v1/wallet/recharge-code/
Body: {"charge_code": "ABC123XYZ456"}
Response: {"new_balance": 600, "recharged_amount": 500}

# ุทุฑููุฉ 2: ุดุญู ูุจุงุดุฑ (ูููุณุคูููู ููุท)
POST /api/v1/direct-recharge/
Body: {"customer_serial": "CUST2024-ABC123", "coin_amount": 1000}
3๏ธโฃ ุชุตูุญ ูุดุฑุงุก ุงููููุงุช
bash
# 1. ุนุฑุถ ุฌููุน ุงููููุงุช
GET /api/v1/products/files/
Response: [
  {
    "id": 1,
    "title": "ุฏููู ุจุงูุซูู ุงููุชูุฏู",
    "price_coins": 300,
    "category_name": "ุจุฑูุฌุฉ"
  }
]

# 2. ุดุฑุงุก ููู
POST /api/v1/sales/purchases/
Body: {"file_id": 1}
Response: {
  "success": true,
  "purchase_id": 15,
  "new_balance": 700,
  "instructions": "ุงูุชูู ุฅูู ุตูุญุฉ ูุดุชุฑูุงุชู ูุชุญููู ุงูููู"
}
4๏ธโฃ ุงูุชุญููู ุงูุฐูู (ููุจ ุงููุธุงู)
bash
# 1. ุนุฑุถ ุงููุดุชุฑูุงุช
GET /api/v1/sales/my-purchases/
Response: [
  {
    "purchase_id": 15,
    "file_title": "ุฏููู ุจุงูุซูู ุงููุชูุฏู",
    "downloads_count": 0,
    "can_download": true,
    "downloads_left": 3
  }
]

# 2. ุฅูุดุงุก ุฑุงุจุท ุชุญููู (ุนูุฏ ุงูุถุบุท ุนูู "ุชุญููู")
POST /api/v1/sales/purchases/15/download/
Response: {
  "success": true,
  "download_url": "https://worker.com/d/abc123xyz456",
  "expires_in": "ุณุงุนุชูู",
  "downloads_used": 1,
  "downloads_left": 2,
  "note": "ุงูุฑุงุจุท ูุนูู ูุฑุฉ ูุงุญุฏุฉ ุฎูุงู ุณุงุนุชูู"
}

# 3. ูุชุญ ุงูุฑุงุจุท ูู ุงููุชุตูุญ
# โ Cloudflare Worker ูุชุญูู ูู ุงูุตูุงุญูุฉ
# โ ุฅุฐุง ุตุงูุญ โ ููุฌู ุฅูู ุงูููู ุงูุฃุตูู
# โ ูุชู ุญุฐู ุงูุฑุงุจุท (ูุง ูุนูู ูุฑุฉ ุฃุฎุฑู)
5๏ธโฃ ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช
bash
# ุนุฑุถ ุงูุฅุดุนุงุฑุงุช
GET /api/v1/notifications/

# ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก
POST /api/v1/notifications/mark-read/
Body: {"notification_id": 5}
โ๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
ุงูุชูููุฉ	ุงูุบุฑุถ	ุงูุญุงูุฉ
Django 4.2	Backend Framework	โ ููุชูู
Django REST Framework	ุจูุงุก API	โ ููุชูู
PostgreSQL	ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ	โ ููุชูู
JWT Authentication	ูุตุงุฏูุฉ ุขููุฉ	โ ููุชูู
Redis	ุงูุชุฎุฒูู ุงููุคูุช ูุงูุฌูุณุงุช	โ๏ธ ุฌุฒุฆู
Cloudflare Workers	ุญูุงูุฉ ุฑูุงุจุท ุงูุชุญููู	โ๏ธ ููุฏ ุงูุชูููุฐ
Cloudflare KV	ุชุฎุฒูู ุงูุชูููุงุช ุงููุคูุชุฉ	โ๏ธ ููุฏ ุงูุชูููุฐ
๐ง ุฅุนุฏุงุฏุงุช ุงูุชุซุจูุช
ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
bash
Python 3.9+
PostgreSQL 14+
Redis (ุงุฎุชูุงุฑู)
Cloudflare Account (ููุฑูุงุจุท ุงููุญููุฉ)
ุชุซุจูุช ุงููุดุฑูุน
bash
# 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone <repository-url>
cd django-ai-supabase-app

# 2. ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ุฃู venv\Scripts\activate  # Windows

# 3. ุชุซุจูุช ุงููุชุทูุจุงุช
pip install -r requirements.txt

# 4. ุฅุนุฏุงุฏ ููู .env
cp .env.example .env
# ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช ูู .env

# 5. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
python manage.py migrate

# 6. ุฅูุดุงุก ูุณุชุฎุฏู ูุณุคูู
python manage.py createsuperuser

# 7. ุชุดุบูู ุงูุณูุฑูุฑ
python manage.py runserver
ููู .env ุงููุทููุจ
env
# ุฅุนุฏุงุฏุงุช Django
SECRET_KEY=your-secret-key-here
DEBUG=True
DATABASE_URL=postgresql://user:password@localhost/dbname

# ุฅุนุฏุงุฏุงุช Redis
REDIS_URL=redis://localhost:6379/0

# ุฅุนุฏุงุฏุงุช Cloudflare Worker
CLOUDFLARE_WORKER_ENABLED=True
CLOUDFLARE_WORKER_URL=https://your-worker.workers.dev
CLOUDFLARE_WORKER_SECRET=your-super-secret-key-here

# ุฅุนุฏุงุฏุงุช ุงููููุงุช
FILES_BASE_URL=https://your-storage.com/uploads/
๐ ููุงุฐุฌ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ
Customer (ุงูุนููู)
python
{
    "serial": "CUST2024-ABC123",  # ูุฑูุฏุ ูุชููุฏ ุชููุงุฆูุงู
    "pin": "1234",                # 4 ุฃุฑูุงูุ ูุชููุฏ ุชููุงุฆูุงู
    "name": "ุฃุญูุฏ ูุญูุฏ",
    "phone": "0555123456",
    "is_active": True,            # False ูุจู ุงูุชูุนูู
    "created_at": "2024-01-15T10:30:00Z"
}
Wallet (ุงููุญูุธุฉ)
python
{
    "balance": 1500,           # ุงูุฑุตูุฏ ุงูุญุงูู
    "total_deposited": 2000,   # ุฅุฌูุงูู ุงูุฅูุฏุงุนุงุช
    "total_spent": 500         # ุฅุฌูุงูู ุงููุตุฑููุงุช
}
Purchase (ุงูุดุฑุงุก)
python
{
    "id": 15,
    "customer": "CUST2024-ABC123",
    "file": "ุฏููู ุจุงูุซูู ุงููุชูุฏู",
    "paid_price": 300,
    "timestamp": "2024-01-15T14:20:00Z",
    "downloads_count": 1,      # ุนุฏุฏ ูุฑุงุช ุงูุชุญููู
    "max_downloads": 3,        # ุงูุญุฏ ุงูุฃูุตู
    "last_download_at": "2024-01-15T14:25:00Z"
}
๐ ููุฒุงุช ุงูุฃูุงู
ุทุจูุงุช ุงูุญูุงูุฉ ุงููุชุนุฏุฏุฉ
ูุตุงุฏูุฉ JWT: ุชูููุงุช ููุชููุฉ ุงูุตูุงุญูุฉ (5 ุฏูุงุฆู)

ุตูุงุญูุฉ ุงูุฑูุงุจุท: ุณุงุนุชุงู ููุท ูู ููุช ุงูุทูุจ

ุนุฏุฏ ุงูุชุญูููุงุช: 3 ูุฑุงุช ูุญุฏ ุฃูุตู ููู ุดุฑุงุก

ุชุณุฌูู ุงููุดุงุท: ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ (IPุ ุงูููุชุ ุงููุชุตูุญ)

ุชุดููุฑ ุงูุจูุงูุงุช: PIN codes ูุดูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ููุน ุงูุฅุณุงุกุฉ
ุชุญูู ูู IP address

Rate limiting ููุทูุจุงุช

ููุน ุงูุชุญูููุงุช ุงููุชูุฑุฑุฉ

ุชุณุฌูู ุงููุญุงููุงุช ุงููุงุดูุฉ

๐ ุฅุญุตุงุฆูุงุช ูุฃุฏุงุก
ุงูุณุนุฉ ุงููุตูู
ุงููููุงุช: ุบูุฑ ูุญุฏูุฏ

ุงููุณุชุฎุฏููู: ุบูุฑ ูุญุฏูุฏ

ุงูุชุญูููุงุช ุงูููููุฉ: ุญุชู 10,000 (ูุน Cloudflare Worker)

ููุช ุงูุงุณุชุฌุงุจุฉ: < 200ms ููุนุธู ุงูุนูููุงุช

ุงูุชูุงููู ุงูุชุดุบูููุฉ
Django Hosting: ~$10/ุดูุฑ

Cloudflare Worker: ูุฌุงูู ุญุชู 100,000 ุทูุจ/ููู

ุงูุชุฎุฒูู: ูุนุชูุฏ ุนูู ุญุฌู ุงููููุงุช

๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู
ูููุณุชุฎุฏููู ุงูุนุงุฏููู
ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ูุงูุญุตูู ุนูู Serial/PIN

ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ูุชูุนูู ุงูุญุณุงุจ

ุดุญู ุงููุญูุธุฉ ุนู ุทุฑูู ุฃููุงุฏ ุงูุดุฑุงุก

ุชุตูุญ ูุดุฑุงุก ุงููููุงุช ุงูุชูููุฉ

ุชุญููู ุงููููุงุช ุจุฑูุงุจุท ุขููุฉ (3 ูุฑุงุช ููู ููู)

ูุชุงุจุนุฉ ุงููุดุชุฑูุงุช ูุงูุฅุดุนุงุฑุงุช

ูููุณุคูููู
ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ูุงูุชุตูููุงุช

ุฅูุดุงุก ุฃููุงุฏ ุงูุดุญู ููุนููุงุก

ุงูุดุญู ุงููุจุงุดุฑ ููุญุงูุธ ุงูุนููุงุก

ูุชุงุจุนุฉ ุงูุฅุญุตุงุฆูุงุช ูุงูุชุญูููุงุช

ุฅุฏุงุฑุฉ ุญุณุงุจุงุช ุงููุณุชุฎุฏููู

๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง
ูุดููุฉ: "Worker ุบูุฑ ูุชุตู"
python
# ูู settings.py
CLOUDFLARE_WORKER_ENABLED = False  # ุชุนุทูู ูุคูุชุงู
# ูุณุชุฎุฏู ุงููุธุงู ุงูุฑุงุจุท ุงููุจุงุดุฑ ูุจุฏูู
ูุดููุฉ: "ุงูุชูุช ุตูุงุญูุฉ ุงูุชููู"
javascript
// Frontend: ุชุฌุฏูุฏ ุงูุชููู ุชููุงุฆูุงู
if (error.response.status === 401) {
  const refreshToken = localStorage.getItem('refresh_token');
  const newTokens = await refreshAccessToken(refreshToken);
  localStorage.setItem('access_token', newTokens.access);
}
ูุดููุฉ: "ุชู ุงุณุชููุงุฐ ุงูุชุญูููุงุช"
python
# ูุงุนุฏุฉ ุงููุธุงู: 3 ุชุญูููุงุช ููู ุดุฑุงุก
if purchase.downloads_count >= 3:
    return {"error": "ุชู ุงุณุชููุงุฐ ุนุฏุฏ ุงูุชุญูููุงุช ุงููุณููุญ ุจูุง"}
๐ค ุงููุณุงููุฉ ูู ุงููุดุฑูุน
ูููู ุงููุณุงููุฉ
Fork ุงููุดุฑูุน

ุฅูุดุงุก ูุฑุน ููููุฒุฉ: git checkout -b feature/new-feature

Commit ุงูุชุบููุฑุงุช: git commit -m "ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ"

Push ุฅูู ุงููุฑุน: git push origin feature/new-feature

ูุชุญ Pull Request

ูุฌุงูุงุช ุงูุชุญุณูู ุงูููุชุฑุญุฉ
ูุงุฌูุฉ ูุณุชุฎุฏู ูุชูุฏูุฉ (React/Vue)

ูุธุงู ุชูููู ุงููููุงุช ูุงูุชุนูููุงุช

ุฅุญุตุงุฆูุงุช ููุตูุฉ ูููุณุคูู

ุฅุดุนุงุฑุงุช ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู

ุฏูุน ุฅููุชุฑููู ุญูููู

ุชุทุจูู ุฌูุงู (React Native)

๐ ุงูุชุฑุฎูุต
ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT. ุงูุธุฑ ููู LICENSE ูููุฒูุฏ ูู ุงูุชูุงุตูู.

๐ ุงูุฏุนู ูุงูุงุชุตุงู
ุงููุทูุฑ: ูุธุงู ูุชุฌุฑ ุงููููุงุช ุงูุชูููุฉ

ุงูุฅุตุฏุงุฑ: 1.0.0

ุชุงุฑูุฎ ุงูุฅุทูุงู: ููุงูุฑ 2024

ูุณุชูุฏุน ุงูููุฏ: [ุฑุงุจุท GitHub]

โจ ุชู ุงูุชุทููุฑ ุจุงุณุชุฎุฏุงู: Django REST Framework, JWT, Cloudflare Workers
๐ ูุธุงู ูุชูุงูู ููุจูุน ูุงูุชุญููู ุงูุขูู ูููููุงุช ุงูุชูููุฉ

